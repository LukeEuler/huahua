# huahua

ä¸€ä¸ªå°æ»¤é•œï¼Œç›®å‰å¤„äºè‡ªå¨±è‡ªä¹ç‰ˆã€‚

æœ¬é¡¹ç›®copyäº†å¾ˆå¤š[rustagram](https://github.com/ha-shine/rustagram)çš„æºç ï¼Œä¸»è¦åŸå› æ˜¯è¿™ä¸ªé¡¹ç›®çš„æ²¡æœ‰å°†å¤§éƒ¨åˆ†æ–¹æ³•å¯¹å¤–å¼€æ”¾ã€‚



# Usage

ç›®å‰åªæ”¯æŒæºç ç¼–è¯‘ã€‚

ç¼–è¯‘åå¯æ‰§è¡Œ`./target/release/huahua -h`è·å–å¸®åŠ©ï¼š

```
huahua 0.1.0
Luke Euler <luke16times@gmail.com>
Apply custom filters to you photos

USAGE:
    huahua [OPTIONS] --filter <name> --input <FILE>

FLAGS:
    -h, --help       Prints help information
    -V, --version    Prints version information

OPTIONS:
    -f, --filter <name>    Choose the filter in you filter file
    -c, --config <FILE>    Set the filter file [default: filter.json]
    -i, --input <FILE>     Path to the input image file
    -o, --output <FILE>    Output file name [default: output.jpg]
```

æœ¬é¡¹ç›®ä¹Ÿæä¾›äº†ä¸€ä»½é»˜è®¤çš„æ»¤é•œé…ç½®æ–‡ä»¶ä»¥ä¾›ä½¿ç”¨ï¼š`filter.json`ã€‚è¯¥é…ç½®æ–‡ä»¶åŸºæœ¬æ˜¯å‚è€ƒçš„instagramä¸­çš„æ»¤é•œæ•ˆæœï¼ˆä»¿è‡ª[rustagram](https://github.com/ha-shine/rustagram)ï¼‰ã€‚å¦‚æœæƒ³ä½¿ç”¨å…¶ä»–æ»¤é•œæ•ˆæœï¼Œå¯è‡ªè¡Œæ‘¸ç´¢ğŸ˜„ã€‚



å¦‚æœä»…ä»…æƒ³å¼€ç®±å³ç”¨ï¼Œæµ‹è¯•æ•ˆæœï¼Œå¯æ‰§è¡Œé¡¹ç›®ç›®å½•ä¸‹çš„`test.sh`æ–‡ä»¶ã€‚å½“ç„¶ï¼Œè‡³å°‘è¦ä¿è¯ä½ æœ¬ä½“å®‰è£…äº†**rust**ï¼Œä»¥åŠæœ‰ä¸€ä»½**pics/test.jpg**ä½œä¸ºæ»¤é•œæ•ˆæœçš„åŸå›¾ã€‚

# configæ–‡ä»¶è¯´æ˜

æœ¬é¡¹ç›®ä½¿ç”¨çš„æ»¤é•œé…ç½®æ–‡ä»¶çš„ï¼Œæ˜¯ä¸€ä¸ªè¯¦ç»†çš„å¤§jsonã€‚å…¶å†…å®¹æ˜¯ä¸€ä¸ªè¶…å¤§çš„mapï¼Œkeyä½œä¸ºæ»¤é•œçš„åˆ«åï¼Œvalueåˆ™æ˜¯å¥¹çš„å…·ä½“å®ç°ç»†èŠ‚ã€‚

```json
{
    "æ»¤é•œåˆ«å": [
        {"å®ç°ç»†èŠ‚1å·"},
        {"å®ç°ç»†èŠ‚2å·"},
        ...
        {"å®ç°ç»†èŠ‚xå·"}
    ]
}
```

ä¸€æ—¦ç¡®å®šç”±`æ»¤é•œåˆ«å`å®ç°æ»¤é•œæ•ˆæœï¼Œé‚£ä¹ˆï¼Œç¨‹åºä¼šæŠŠå›¾ç‰‡äº¤ç”±`å®ç°ç»†èŠ‚1å·`å¤„ç†ï¼Œè¿”å›çš„ç»“æœå†äº¤ç”±`å®ç°ç»†èŠ‚2å·`å¤„ç†ã€‚æœ€åï¼Œä»`å®ç°ç»†èŠ‚xå·`çš„åˆ°æœ€åçš„æ•ˆæœå›¾ã€‚

ç›®å‰çš„å®ç°ç»†èŠ‚åˆ†ä¸ºä¸¤ç§ï¼ŒåŸºç¡€æ»¤é•œï¼Œæ··åˆæ»¤é•œã€‚äº‹å®ä¸Šï¼Œè¿™ä¸¤è€…æ²¡æœ‰æœ¬è´¨ä¸Šçš„åŒºåˆ«ã€‚

### basic filter

ç¤ºä¾‹ï¼š

```json
[
    { "basic filter name1": "<args>" },
    { "basic filter name2": "<args>" },
    { "basic filter name3": "<args>" }
]
```

æ¯ä¸€ä¸ª`basic filter`å’Œ`blend filter`çš„ä½¿ç”¨éƒ½ç”±ä¸€ä¸ªå•ç‹¬çš„ json objectï¼ˆæˆ–è€…è¯´mapï¼‰å®šä¹‰ã€‚

### blend filter

// TODO

# æ»¤é•œåˆ—è¡¨

| Name                | å‚æ•°                         | è¯´æ˜                                |
| :------------------ | :--------------------------- | ----------------------------------- |
| brighten_by_percent | -100~100çš„æµ®ç‚¹æ•°             | æŒ‰ç™¾åˆ†æ¯”æé«˜äº®åº¦                    |
| contrast            | -100~100çš„æµ®ç‚¹æ•°             | æŒ‰ç™¾åˆ†æ¯”æé«˜å¯¹æ¯”åº¦                  |
| fill_with_channels  | [r,g,b,a]ï¼Œ0~255çš„æµ®ç‚¹æ•°     | ä½¿ç”¨é¢œè‰²æ»¤é•œ,`[255, 200, 200, 153]` |
| grayscale           | æ—                            | å˜æˆç°åº¦å›¾                          |
| huerotate           | 0ï½360æ•´æ•°(å…¶å®è´Ÿæ•°ä¹Ÿå¯ä»¥å•¦) | è‰²ç›¸åè½¬                            |
| opaque              | æ—                            | è®¾ä¸ºä¸é€æ˜                          |
| saturate            | -100~100çš„æµ®ç‚¹æ•°             | é¥±å’Œåº¦                              |
| sepia               | -100~100çš„æµ®ç‚¹æ•°             | è‰²æ¸©                                |

